# Local DeepSeek OCR

完全ローカル環境で動作する、OllamaとDeepSeek-OCRモデルを利用した自炊（書籍電子化）支援アプリです。
画像からテキストを抽出し、プライバシーを守りながら高精度なOCRを実行できます。

## 特徴

- **完全ローカル動作**: インターネット接続不要で、データが外部に送信されることはありません。
- **DeepSeek-OCR**: 高性能な視覚言語モデルを使用し、日本語を含む多言語のテキスト認識が可能です。
- **シンプルでモダンなUI**: ドラッグ＆ドロップで簡単に画像をアップロードし、結果をすぐに確認できます。

## 前提条件

このアプリを使用するには、以下のソフトウェアが必要です。

1.  **Ollama**: ローカルでAIモデルを実行するためのツール。
    - [公式サイトからダウンロード](https://ollama.com/download)してインストールしてください。
2.  **Node.js**: アプリを実行するためのランタイム。
    - [公式サイト](https://nodejs.org/)から推奨版（LTS）をインストールしてください。

## セットアップ手順

1.  **Ollamaの準備**:
    ターミナル（コマンドプロンプト）を開き、以下のコマンドを実行してOCR用モデルをダウンロードします。
    ```bash
    ollama pull deepseek-ocr:3b
    ```
    ※ `deepseek-ocr:3b` が利用できない場合は、`deepseek-vl` などを試してください。

2.  **アプリのインストール**:
    このプロジェクトのフォルダでターミナルを開き、依存関係をインストールします。
    ```bash
    npm install
    ```

## 使い方

1.  **アプリの起動**:
    以下のコマンドでアプリを起動します。
    ```bash
    npm run dev
    ```
    または、`start.command` を実行（ダブルクリック）することでも起動できます。
    ```bash
    ./start.command
    ```
    Electronアプリのウィンドウが開きます。

2.  **画像のアップロード**:
    - ウィンドウ中央のエリアに画像をドラッグ＆ドロップするか、「Browse Files」ボタンをクリックして画像を選択します。
    - 対応フォーマット: JPG, PNG

3.  **OCRの実行**:
    - 画像が表示されたら、右側のパネルにある「Run OCR」ボタンをクリックします。
    - テキストはリアルタイムで少しずつ表示されます（ストリーミング生成）。
    - 処理中に「Stop」ボタンをクリックすると、生成を中断できます。

4.  **結果の利用**:
    - コピーアイコンをクリックして、テキストをクリップボードにコピーできます。

## トラブルシューティング

- **"Ollama Disconnected" と表示される**:
    - Ollamaがバックグラウンドで実行されているか確認してください。ターミナルで `ollama serve` を実行すると手動で起動できます。
- **OCR結果が出ない / エラーになる**:
    - モデルが正しくダウンロードされているか `ollama list` コマンドで確認してください。
    - メモリ不足の可能性があります。他の重いアプリケーションを終了してみてください。

## ライセンス

MIT License
